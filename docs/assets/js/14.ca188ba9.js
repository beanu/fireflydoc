(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{360:function(a,s,t){"use strict";t.r(s);var e=t(42),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#示例"}},[a._v("#")]),a._v(" 示例")]),a._v(" "),t("p",[a._v("下面的连接，需要在泉链运行环境中打开。\nURL为https://t.cn/Re3xw6q\n添加方法：打开泉链运行环境APP中的『探索』，点击右上角的图标，再次点击加号，输入名称，添加上述地址即可。返回『探索』页面，点击打开。\n源码见"),t("a",{attrs:{href:"https://github.com/fchainio/qlchain-examples/tree/master/dapp",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),t("OutboundLink")],1)]),a._v(" "),t("p",[a._v("如果你的项目是基于"),t("code",[a._v("nodejs")]),a._v("的，可以安装官方类库"),t("a",{attrs:{href:"https://github.com/fchainio/qlchainruntime-api",target:"_blank",rel:"noopener noreferrer"}},[a._v("qlchainruntime-api"),t("OutboundLink")],1),a._v("，参考示例项目"),t("a",{attrs:{href:"https://github.com/fchainio/qlchain-examples/tree/master/dapp/vue_demo",target:"_blank",rel:"noopener noreferrer"}},[a._v("qlchain-examples中的vue项目示例"),t("OutboundLink")],1),a._v("。")]),a._v(" "),t("p",[a._v("页面在泉链运行环境中打开后，泉链运行环境会注入qlchain对象，可以使用window.qlchain访问。可以根据此判断网页是否是在泉链内开启。")]),a._v(" "),t("h2",{attrs:{id:"启动app开发者模式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动app开发者模式"}},[a._v("#")]),a._v(" 启动APP开发者模式")]),a._v(" "),t("p",[a._v('泉链运行环境APP默认关闭了开发者模式，如果要开启，请打开"我的"-"设置"-"关于"，多次点击泉链图标，即可开启开发者模式')]),a._v(" "),t("h2",{attrs:{id:"使用泉链运行环境app调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用泉链运行环境app调试"}},[a._v("#")]),a._v(" 使用泉链运行环境APP调试")]),a._v(" "),t("p",[a._v('打开"泉链运行环境APP"，打开"探索"页，在右上角打开"+"号按钮，填写名称和应用访问地址，即可在"自定义应用"栏看到添加的应用，可以点击图标打开运行')]),a._v(" "),t("h2",{attrs:{id:"使用桌面设备调试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用桌面设备调试"}},[a._v("#")]),a._v(" 使用桌面设备调试")]),a._v(" "),t("p",[a._v("qlchain桌面版本与移动版本功能一致，调试更加方便。除一些移动设备特定功能不能使用，如分享，扫描以外，等其它API均可进行测试。\n使用方法：\n点击导航栏『探索』，在自定义应用点击添加按钮。输入名称与应用地址后保存。\n点击添加的DApp，会自动弹出"),t("code",[a._v("Chrome developer tools")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"获取运行环境版本信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取运行环境版本信息"}},[a._v("#")]),a._v(" 获取运行环境版本信息")]),a._v(" "),t("p",[a._v("返回当前泉链运行环境的版本信息，类型为字符串。如当前版本为 '2.1.8'。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  window.qlchain.version    \n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'2.1.8'\n")])])]),t("h2",{attrs:{id:"获取运行环境os平台信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取运行环境os平台信息"}},[a._v("#")]),a._v(" 获取运行环境OS平台信息")]),a._v(" "),t("p",[a._v("返回当前运行环境所在设备的操作系统信息，类型为字符串，当前返回值为android或者ios。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.platform\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'android'\n")])])]),t("h2",{attrs:{id:"获取当前设备的uuid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取当前设备的uuid"}},[a._v("#")]),a._v(" 获取当前设备的UUID")]),a._v(" "),t("p",[a._v("返回当前运行环境所在的设备的UUID进行SHA256运算后的数据，类型为字符串。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.uuid\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'01a0865f4c2687d90f70f32b01c1e258bfd7aa6c7ccc35339dfacd72f5018bb8'\n")])])]),t("h2",{attrs:{id:"获取运行环境的语言设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取运行环境的语言设置"}},[a._v("#")]),a._v(" 获取运行环境的语言设置")]),a._v(" "),t("p",[a._v("返回当前运行环境使用的语言选项，类型为字符串。")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.locale\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'zh_cn'\n")])])]),t("h2",{attrs:{id:"获取用户地址（id）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取用户地址（id）"}},[a._v("#")]),a._v(" 获取用户地址（ID）")]),a._v(" "),t("p",[a._v("返回当前用户的地址，类型为字符串，如"),t("code",[a._v("GCENG5GLJ35GPJZQM3YJSFL3GMQ57MA5U6ZAAE6V4XIFVXFPY5MS5Q65")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.address\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'GCENG5GLJ35GPJZQM3YJSFL3GMQ57MA5U6ZAAE6V4XIFVXFPY5MS5Q65'\n")])])]),t("h2",{attrs:{id:"获取用户账户名称"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取用户账户名称"}},[a._v("#")]),a._v(" 获取用户账户名称")]),a._v(" "),t("p",[a._v("返回当前用户的账户名称，类型为字符串，如："),t("code",[a._v("泉链小鹅")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.accountName\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'泉链小鹅'\n")])])]),t("h2",{attrs:{id:"获取当前用户设置的horizon服务器地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取当前用户设置的horizon服务器地址"}},[a._v("#")]),a._v(" 获取当前用户设置的horizon服务器地址")]),a._v(" "),t("p",[a._v("返回当前用户设置的horizon服务器地址，类型为字符串，如："),t("code",[a._v("https://horizon.stellar.org")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.horizonUrl\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'https://horizon.stellar.org'\n")])])]),t("h2",{attrs:{id:"获取horizon服务器的网络密语"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取horizon服务器的网络密语"}},[a._v("#")]),a._v(" 获取horizon服务器的网络密语")]),a._v(" "),t("p",[a._v("返回当前用户设置的horizon服务器的网络密码(network passphrase)")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.network\n")])])]),t("p",[a._v("返回")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("'Public Global Stellar Network ; September 2015'\n")])])]),t("h2",{attrs:{id:"获取用户余额（balance）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取用户余额（balance）"}},[a._v("#")]),a._v(" 获取用户余额（balance）")]),a._v(" "),t("p",[a._v("返回当前用户的资产信息。"),t("code",[a._v("balances(callback)")]),a._v("\n恒星网络可以发行资产。因此用户可以拥有多种资产。使用此方法可以获取当前用户所有的资产信息。\n此方法从运行环境指定的horizon获取余额（balance）信息并返回。")]),a._v(" "),t("ul",[t("li",[a._v("参数说明")]),a._v(" "),t("li",[t("code",[a._v("callback")]),a._v("是balance执行后的回调函数。可以是函数名称或者是一个函数。")]),a._v(" "),t("li",[a._v("https://www.stellar.org/developers/horizon/reference/endpoints/accounts-single.html")]),a._v(" "),t("li",[a._v("在balance执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")])]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'success | fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//success表示查询成功，fail表示查询失败。")]),a._v("\n        message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'提示信息 | 错误信息'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//Array类型。内容为用户的资产状态信息。")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("代码示例")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.balances(function(response){\n        if(response.code === 'fail'){\n             console.log('error:' + response.message)  \n             alert('查询失败！'+response.message)\n        }else{\n             console.log('query for balances successfully')\n             $(\"#balances_data\").text(JSON.stringify(response.data))\n             alert('查询余额成功')\n        }\n});\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('[\n    {\n      "balance": "1.0000000",       //资产余额\n      "limit": "707382697076.8900000",  //资产可持有的上限。通常在向用户发送时使用。\n      "asset_type": "credit_alphanum4",   //资产类型，分别为credit_alphanum4和credit_alphanum12. \n      "asset_code": "XFF",        //资产代码\n      "asset_issuer": "GAZEX2USUBMMWFRZFS77VDJYXUFLXI4ZGFPWX6TBNZCSTEQWNLFZMXFF"   //资产发行方\n    },\n    {\n      "balance": "1.9999900",   //资产余额\n      "asset_type": "native"       //native指代本地资产，即XLM\n    }\n]\n')])])]),t("h2",{attrs:{id:"支付功能（payment）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支付功能（payment）"}},[a._v("#")]),a._v(" 支付功能（payment）")]),a._v(" "),t("p",[t("code",[a._v("pay(data, callback)")]),a._v("\n使用该方法，可以提请用户进行指定支付。\n参数说明：\n"),t("code",[a._v("data")]),a._v("是一个JSON，需要包含以下内容")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    destination"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'接收方地址'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串，必须填写")]),a._v("\n    code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'资产编码'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("           "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串，必须填写")]),a._v("\n    issuer"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'资产发行方'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串，在发送原生资产XLM时，可不填写。其它资产均需要填写。")]),a._v("\n    amount"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'资产发送数量'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// number类型, 必须填写 ")]),a._v("\n    memo_type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'备注类型'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串，选填，可取值：NONE TEXT HASH ID RETURN。 ")]),a._v("\n    memo"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'备注内容'")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串，选填，当memo_type为NONE时，不需要填写，memo_type为其它值时，需要填写。")]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("关于"),t("code",[a._v("code")]),a._v("，"),t("code",[a._v("issuer")]),a._v("的概念，参见"),t("a",{attrs:{href:"https://www.stellar.org/developers/guides/concepts/assets.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("stellar 官方文档"),t("OutboundLink")],1),a._v("，"),t("a",{attrs:{href:"https://docs.stellarcn.org/developers/guides/concepts/assets.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("中文版"),t("OutboundLink")],1),a._v("。\n关于 "),t("code",[a._v("memo_type")]),a._v("和"),t("code",[a._v("memo")]),a._v("的概念，参见"),t("a",{attrs:{href:"https://www.stellar.org/developers/guides/concepts/transactions.html#memo",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),t("OutboundLink")],1),a._v("，稍后会以汉语进行说明。\n"),t("code",[a._v("callback")]),a._v(" 是payment执行后的回调函数，可以是函数名称或者是一个函数。\n在pay执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'success | fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//success表示支付成功，fail表示支付失败。")]),a._v("\n        message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'提示信息 | 错误信息'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'返回结果数据'")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//object类型或null")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.pay({\n         destination: 'GBFGPA6MELXHEKWPJW75LOMC4CHGHTZ67LOWUGTUUILMXMZZGFLTO3X7', \n         code: 'XFF', \n         issuer: 'GAZEX2USUBMMWFRZFS77VDJYXUFLXI4ZGFPWX6TBNZCSTEQWNLFZMXFF', \n         amount: 1, \n         memo_type: 'TEXT',  \n         memo: 'Hello,qlchain'\n       }, function(response){\n           if(response.code === 'fail'){\n             console.log('error:' + response.message)  \n             alert('支付失败！'+response.message)\n           }else{\n             console.log('pay success')\n             alert('支付成功')\n             //后续代码\n           }\n});\n")])])]),t("p",[t("img",{attrs:{src:"https://static.oschina.net/uploads/space/2018/0806/162145_Uid5_109284.png",alt:"调用界面"}})]),a._v(" "),t("h2",{attrs:{id:"路径支付功能（path-payment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路径支付功能（path-payment"}},[a._v("#")]),a._v(" 路径支付功能（path payment)")]),a._v(" "),t("p",[a._v("WIP...")]),a._v(" "),t("h2",{attrs:{id:"使用用户当前密钥签名（sign"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用用户当前密钥签名（sign"}},[a._v("#")]),a._v(" 使用用户当前密钥签名（sign)")]),a._v(" "),t("p",[t("code",[a._v("sign(data, callback)")]),a._v("\n使用该方法可以对数据进行签名，可以用于权限验证，比如应用可以在执行某些需要验证用户身份的操作之前，提供一些数据让用户进行签名鉴权。可以用来做用户登录。\n参数说明：\n"),t("code",[a._v("data")]),a._v("是一个JSON格式的字符串。data 的长度限制（WIP）\n"),t("code",[a._v("callback")]),a._v(" 是sign执行后的回调函数，可以是函数名称或者是一个函数。\n在"),t("code",[a._v("sign")]),a._v("执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'success | fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//success表示签名成功，fail表示签名失败。")]),a._v("\n        message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'提示信息 | 错误信息'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'返回结果数据'")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//base64编码字符串类型或null")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("let data = {name: 'qlchain runtime dapp',desc:'the first hello in the world'}\ndata = JSON.stringify(data)\nconsole.log('待签名的数据:' +data)\nwindow.qlchain.sign(data, function(response){\n    if(response.code === 'fail'){\n        console.log('error:' + response.message)  \n    }else{\n        console.log('success')\n        console.log('签名后的结果：'+response.data)\n    }\n})\n")])])]),t("p",[a._v("返回结果")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('待签名的数据:{"time":1533626528508,"address":"GACJFMOXTSE7QOL5HNYI2NIAQ4RDHZTGD6FNYK4P5THDVNWIKQDGOODU"}\n签名后的结果:4foYmY0Nrx1QPT5CfJEsJcYM0o40l4sHDo8aHJ0mHNq0ZY9Q7753FieHXBK3dJJ32+Lhw3UIJnzF2pplyo3LBg==\n\n')])])]),t("h2",{attrs:{id:"验证签名（validate"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#验证签名（validate"}},[a._v("#")]),a._v(" 验证签名（validate)")]),a._v(" "),t("p",[a._v("WIP...")]),a._v(" "),t("h2",{attrs:{id:"提请用户信任资产（trust）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提请用户信任资产（trust）"}},[a._v("#")]),a._v(" 提请用户信任资产（trust）")]),a._v(" "),t("p",[t("code",[a._v("trust(code, issuer, callback)")]),a._v("\n使用该方法，可以提请用户信任指定的资产。\n参数说明：\n"),t("code",[a._v("code")]),a._v("格式为字符串。内容为字母数字，即[a-z][A-Z][0-9]，长度限制为1-12字符。\n"),t("code",[a._v("issuer")]),a._v("格式为字符串，内容为地址。如"),t("code",[a._v("GCKKUWHT3ILQWWKQ3MUOCAC7LRJNLCOES7SEI6TCQVGZD4GCULO2PGNU")]),a._v("。\n"),t("code",[a._v("callback")]),a._v(" 是trust执行后的回调函数，可以是函数名称或者是一个函数。\n在"),t("code",[a._v("trust")]),a._v("执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")]),a._v(" "),t("p",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var code = 'XFF';\nvar issuer = 'GAZEX2USUBMMWFRZFS77VDJYXUFLXI4ZGFPWX6TBNZCSTEQWNLFZMXFF';\nwindow.qlchain.trust(code,issuer,function(response){\n   if(response.code === 'fail'){\n    console.log('error:' + response.message)  \n       alert('授信失败')\n    }else{\n       console.log('trust success')\n       alert('授信成功')\n    }\n})\n")])])]),t("p",[t("img",{attrs:{src:"https://static.oschina.net/uploads/space/2018/0808/003018_3Kcb_109284.png",alt:"调用界面"}})]),a._v(" "),t("h2",{attrs:{id:"请求用户签署xdr（signxdr）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求用户签署xdr（signxdr）"}},[a._v("#")]),a._v(" 请求用户签署XDR（signXDR）")]),a._v(" "),t("p",[t("code",[a._v("signXDR(data, message, callback)")]),a._v(" "),t("code",[a._v("signXDR")]),a._v("是一个底层方法。当qlchain提供的API无法直接满足需求时，可以使用此方法进行高级操作。\n使用前提：需要了解恒星底层SDK，能够手工构造Transaction封包。当构造并生成XDR格式的tranaction后，可以提请用户对Tx进行签名，签名后提交到网络。\n参数说明：\n"),t("code",[a._v("data")]),a._v(" 字符串，构造的XDR格式的transaction。\n"),t("s",[t("code",[a._v("message")]),a._v(" 字符串，用于告知用户此Tx的用途。")]),a._v(" "),t("code",[a._v("callback")]),a._v(" 是signXDR执行后的回调函数，可以是函数名称或者是一个函数。")]),a._v(" "),t("p",[a._v("在"),t("code",[a._v("signXDR")]),a._v("执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'success | fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//success表示签署成功，fail表示签署失败。")]),a._v("\n        message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'提示信息 | 错误信息'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'返回结果数据'")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//base64编码字符串类型或null")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("em",[a._v("代码示例")])]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("var xdr = 'AAAAAEpng8wi7nIqz02/1bmC4I5jzz763WoadKIWy7M5MVc3AAAAZACHjkkAAAABAAAAAAAAAAAAAAABAAAAAAAAAAoAAAALaG9tZV9kb21haW4AAAAAAQAAABBodHRwOi8vZmNoYWluLmlvAAAAAAAAAAA='\n window.qlchain.signXDR(xdr, \"更新主域名\", function(response){\n  if(response.code === 'fail'){\n    console.log('error:' + response.message)  \n    alert('签名失败！'+response.message)\n  }else{\n    console.log('签名成功,数据可以直接提交到Horizon')\n    console.log(response.data)\n  }\n})\n")])])]),t("p",[t("img",{attrs:{src:"https://static.oschina.net/uploads/space/2018/0808/005124_ty0v_109284.png",alt:"调用界面"}})]),a._v(" "),t("h2",{attrs:{id:"扫描二维码功能（scan）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#扫描二维码功能（scan）"}},[a._v("#")]),a._v(" 扫描二维码功能（scan）")]),a._v(" "),t("p",[t("code",[a._v("scan(callback)")]),a._v("\n使用该方法可以调用扫描功能，并获取二维码扫描结果。\n参数说明：\n"),t("code",[a._v("callback")]),a._v(" 是scan执行后的回调函数，可以是函数名称或者是一个函数。\n在"),t("code",[a._v("scan")]),a._v("执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'success | fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//success表示签署成功，fail表示签署失败。")]),a._v("\n        message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'提示信息 | 错误信息'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        data"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'返回结果数据'")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串类型或null")]),a._v("\n     "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("window.qlchain.scan(function(response){\n  if(response.code === 'fail'){\n    console.log('error:' + response.message)  \n  }else{\n     console.log('scan result:' + response.data)//response.data是二维码的扫描结果，字符串类型\n  }\n })\n  \n")])])]),t("h2",{attrs:{id:"分享功能（share"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分享功能（share"}},[a._v("#")]),a._v(" 分享功能（share)")]),a._v(" "),t("p",[t("code",[a._v("share(options,callback)")]),a._v("\n使用此方法，可以调用系统的分享功能。分享实现见"),t("a",{attrs:{href:"https://github.com/EddyVerbruggen/SocialSharing-PhoneGap-Plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("这里"),t("OutboundLink")],1)]),a._v(" "),t("p",[t("code",[a._v("options")]),a._v("是一个JSON，需要包含以下内容")]),a._v(" "),t("p",[t("code",[a._v("分享功能")])]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'分享图片'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串，必须填写")]),a._v("\n    url"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'https://fchain.io'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//字符串类型，选填，要分享的网址")]),a._v("\n    files"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'图片内容'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("           "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//数组，选填，支持远程图片地址或base64格式的图片等。如")]),a._v("\n   "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[t("code",[a._v("callback")]),a._v(" 是share执行后的回调函数，可以是函数名称或者是一个函数。\n在"),t("code",[a._v("share")]),a._v("执行完毕后，"),t("code",[a._v("callback")]),a._v("将会接收一个对象，内容如下")]),a._v(" "),t("div",{staticClass:"language-javascript extra-class"},[t("pre",{pre:!0,attrs:{class:"language-javascript"}},[t("code",[a._v("    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        code"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'success | fail'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//success表示成功，fail表示失败。")]),a._v("\n        message"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'提示信息 | 错误信息'")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("p",[a._v("代码示例")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("let options = {\n   message: '分享图片',\n   files: ['data:image/png;base64,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']\n}\nwindow.qlchain.share(options,function(response){\n  if(response.code === 'fail'){\n    console.log('error:' + response.message)  \n  }else{\n    console.log('share success')\n  }\n})\n\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);